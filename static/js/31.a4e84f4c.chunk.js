"use strict";(self.webpackChunkfront_end_delivery=self.webpackChunkfront_end_delivery||[]).push([[31],{2002:function(r,e,n){n.d(e,{Z:function(){return s}});var t=n(643),a="Loader_ContainerLoader__QRn4O",u=n(184),s=function(){return(0,u.jsx)("div",{className:a,children:(0,u.jsx)(t.g4,{height:"80",width:"180",radius:"9",color:"#303f9f",ariaLabel:"three-dots-loading",visible:!0})})}},5031:function(r,e,n){n.r(e),n.d(e,{default:function(){return W}});var t=n(4165),a=n(5861),u=n(4942),s=n(1413),c=n(9439),i=n(2791),o="History_WrapPage__0mbm8",l="History_WrapFilter__hErqx",d="History_WrapOrders__HT+Tt",p="History_Form__0acay",f="History_WrapInput__gkaDs",h="History_Label__--t39",x="History_Input__+zd-g",m="History_ListOrders__opHip",v=n(9326),_=n(2002),Z=n(5371),g="GoodsCartHistory_WrapCart__z4g5v",b="GoodsCartHistory_WrapImg__ujwio",j="GoodsCartHistory_Image__QCTYa",y="GoodsCartHistory_WrapContent__av1QL",w=n(184),k=function(r){var e=r.goods,n=(0,i.useState)((0,s.Z)({},v.uc)),u=(0,c.Z)(n,2),o=u[0],l=u[1];return(0,i.useEffect)((function(){var r=new AbortController,n=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,Z.og)(e.goods,r);case 3:a=n.sent,l(a),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),l((0,s.Z)({},v.uc));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){r.abort()}}),[e.goods]),(0,w.jsxs)("div",{className:g,children:[(0,w.jsx)("div",{className:b,children:(0,w.jsx)("img",{src:o.urlPicture,alt:o.name,height:"20",className:j})}),(0,w.jsxs)("div",{className:y,children:[(0,w.jsxs)("h4",{children:[o.name," "]}),(0,w.jsxs)("p",{children:["Count: ",(0,w.jsx)("span",{children:e.count})]}),(0,w.jsxs)("p",{children:["Price: ",(0,w.jsx)("span",{children:e.price})]}),(0,w.jsxs)("p",{children:["Summ: ",(0,w.jsx)("span",{children:e.sum})]})]})]})},N="OrdersList_WrapCart__5jNPu",L="OrdersList_WrapGoods__0DJd6",C="OrdersList_WrapInfo__I7bd1",R="OrdersList_ListGoods__Qn3RQ",H=function(r){var e=r.order;return(0,w.jsxs)("div",{className:N,children:[(0,w.jsx)("div",{className:L,children:(0,w.jsx)("ul",{className:R,children:e.goodsDocument.map((function(r){return(0,w.jsx)("li",{children:(0,w.jsx)(k,{goods:r})},r.goods)}))})}),(0,w.jsxs)("div",{className:C,children:[(0,w.jsxs)("p",{children:["Total price: ",(0,w.jsx)("span",{children:e.sum})]}),(0,w.jsxs)("p",{children:["E-mail: ",(0,w.jsx)("span",{children:e.email})]}),(0,w.jsxs)("p",{children:["Phone: ",(0,w.jsx)("span",{children:e.phone})]}),(0,w.jsxs)("p",{children:["Id: ",(0,w.jsx)("span",{children:e._id})]})]})]})};function I(r,e,n){var t=this,a=(0,i.useRef)(null),u=(0,i.useRef)(0),s=(0,i.useRef)(null),c=(0,i.useRef)([]),o=(0,i.useRef)(),l=(0,i.useRef)(),d=(0,i.useRef)(r),p=(0,i.useRef)(!0);(0,i.useEffect)((function(){d.current=r}),[r]);var f=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof r)throw new TypeError("Expected a function");e=+e||0;var h=!!(n=n||{}).leading,x=!("trailing"in n)||!!n.trailing,m="maxWait"in n,v=m?Math.max(+n.maxWait||0,e):null;(0,i.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var _=(0,i.useMemo)((function(){var r=function(r){var e=c.current,n=o.current;return c.current=o.current=null,u.current=r,l.current=d.current.apply(n,e)},n=function(r,e){f&&cancelAnimationFrame(s.current),s.current=f?requestAnimationFrame(r):setTimeout(r,e)},i=function(r){if(!p.current)return!1;var n=r-a.current;return!a.current||n>=e||n<0||m&&r-u.current>=v},_=function(e){return s.current=null,x&&c.current?r(e):(c.current=o.current=null,l.current)},Z=function r(){var t=Date.now();if(i(t))return _(t);if(p.current){var s=e-(t-a.current),c=m?Math.min(s,v-(t-u.current)):s;n(r,c)}},g=function(){var d=Date.now(),f=i(d);if(c.current=[].slice.call(arguments),o.current=t,a.current=d,f){if(!s.current&&p.current)return u.current=a.current,n(Z,e),h?r(a.current):l.current;if(m)return n(Z,e),r(a.current)}return s.current||n(Z,e),l.current};return g.cancel=function(){s.current&&(f?cancelAnimationFrame(s.current):clearTimeout(s.current)),u.current=0,c.current=a.current=o.current=s.current=null},g.isPending=function(){return!!s.current},g.flush=function(){return s.current?_(Date.now()):l.current},g}),[h,m,e,v,x,f]);return _}var W=function(){var r=(0,i.useState)([]),e=(0,c.Z)(r,2),n=e[0],g=e[1],b=(0,i.useState)(!1),j=(0,c.Z)(b,2),y=j[0],k=j[1],N=(0,i.useState)((0,s.Z)({},v.jd)),L=(0,c.Z)(N,2),C=L[0],R=L[1],W=(0,i.useState)((0,s.Z)({},v.jd)),E=(0,c.Z)(W,2),U=E[0],D=E[1],F=I((function(r){console.log("Change filter"),R(r)}),1e3),O=function(r){D((0,s.Z)((0,s.Z)({},v.jd),{},(0,u.Z)({},r.target.id,r.target.value))),F((0,s.Z)((0,s.Z)({},v.jd),{},(0,u.Z)({},r.target.id,r.target.value)))};return(0,i.useEffect)((function(){var r=new AbortController,e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,(0,Z.AU)(C,r);case 4:n=e.sent,g(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g([]);case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){r.abort()}}),[C]),(0,w.jsxs)("div",{className:o,children:[(0,w.jsx)("div",{className:l,children:(0,w.jsxs)("form",{className:p,children:[(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("label",{htmlFor:"id",className:h,children:"ID:"}),(0,w.jsx)("input",{className:x,id:"id",type:"text",value:U.id,onChange:O,placeholder:"Input ID order",required:!0})]}),(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("label",{htmlFor:"email",className:h,children:"Email:"}),(0,w.jsx)("input",{className:x,id:"email",type:"email",value:U.email,onChange:O,placeholder:"Input email",required:!0})]}),(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("label",{htmlFor:"phone",className:h,children:"Phone:"}),(0,w.jsx)("input",{className:x,id:"phone",pattern:"^[+]?\\d{1,4}[-.\\s]?(\\d{1,3})?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}$",type:"tel",value:U.phone,onChange:O,placeholder:"Input phone",required:!0})]})]})}),(0,w.jsxs)("div",{className:d,children:[y&&(0,w.jsx)(_.Z,{}),!y&&(0,w.jsx)("ul",{className:m,children:n.map((function(r){return(0,w.jsx)("li",{children:(0,w.jsx)(H,{order:r})},r._id)}))})]})]})}},5371:function(r,e,n){n.d(e,{LV:function(){return x},sX:function(){return f},og:function(){return h},AU:function(){return m},u6:function(){return p}});var t=n(4942),a=n(4925),u=n(1413),s=n(4165),c=n(5861),i=n(1243),o="https://api-delivery-58of.onrender.com",l=n(9326),d=["_id"],p=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e){var n,t,a,u;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Z.get("/api/shops",{baseURL:o,signal:e.signal});case 2:if(n=r.sent,t=n.data,a=t.code,u=t.data,200===a){r.next=7;break}return r.abrupt("return",[]);case 7:return r.abrupt("return",u);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),f=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e,n){var t,a,u,c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Z.get("/api/goods",{baseURL:o,signal:e.signal,params:{shop:n}});case 2:if(t=r.sent,a=t.data,u=a.code,c=a.data,200===u){r.next=7;break}return r.abrupt("return",[]);case 7:return r.abrupt("return",c);case 8:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),h=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e,n){var t,a,c,d;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Z.get("/api/goods/".concat(e),{baseURL:o,signal:n.signal});case 2:if(t=r.sent,a=t.data,c=a.code,d=a.data,200===c){r.next=7;break}return r.abrupt("return",(0,u.Z)({},l.uc));case 7:return r.abrupt("return",d);case 8:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),x=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e){var n,t,u;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e._id,(n=(0,a.Z)(e,d)).location="50.49197873085457, 30.343034170300555",r.next=4,i.Z.post("/api/orders",n,{baseURL:o});case 4:if(t=r.sent,u=t.data,201===u.code){r.next=9;break}return r.abrupt("return",!1);case 9:return r.abrupt("return",!0);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),m=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e,n){var t,a,u,c;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.id){r.next=7;break}return r.next=3,_(e.id,n);case 3:return t=r.sent,r.abrupt("return",t);case 7:if(!e.email){r.next=14;break}return r.next=10,Z("email",e.email,n);case 10:return a=r.sent,r.abrupt("return",a);case 14:if(!e.phone){r.next=19;break}return r.next=17,Z("phone",e.phone,n);case 17:return u=r.sent,r.abrupt("return",u);case 19:return r.next=21,v(n);case 21:return c=r.sent,r.abrupt("return",c);case 23:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),v=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e){var n,t,a,u;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Z.get("/api/orders",{baseURL:o,signal:e.signal});case 2:if(n=r.sent,t=n.data,a=t.code,u=t.data,200===a){r.next=7;break}return r.abrupt("return",[]);case 7:return r.abrupt("return",u);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),_=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e,n){var t,a,u,c,l;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e?"/".concat(e):"",console.log("getOrdersById",t),r.next=4,i.Z.get("/api/orders"+t,{baseURL:o,signal:n.signal});case 4:if(a=r.sent,u=a.data,c=u.code,l=u.data,200===c){r.next=9;break}return r.abrupt("return",[]);case 9:return r.abrupt("return",[l]);case 10:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),Z=function(){var r=(0,c.Z)((0,s.Z)().mark((function r(e,n,a){var u,c,l,d;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Z.get("/api/orders",{baseURL:o,signal:a.signal,params:(0,t.Z)({},e,n)});case 2:if(u=r.sent,c=u.data,l=c.code,d=c.data,200===l){r.next=7;break}return r.abrupt("return",[]);case 7:return r.abrupt("return",d);case 8:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}()}}]);
//# sourceMappingURL=31.a4e84f4c.chunk.js.map